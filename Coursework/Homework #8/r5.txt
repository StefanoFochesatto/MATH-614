uNorms = []
vNorms = []
sNorms = []
aNorms = []
Acond = []

for i = 1:5
    [U, S, V] = svd(randn(50));
    x1 = 5000000*rand(25,1)-25;
    x2 = .0005*rand(25,1);
    S = diag(sort([x1' x2'], 'descend'));
    A = U*S*V';
    [U2, S2, V2] = svd(A);
    Acond(i) = cond(A);
    V2 = V2*diag(round(diag(V'*V2)))';
    U2 = U2*diag(round(diag(U'*U2)))';

    uNorms(i) = norm(U - U2);
    vNorms(i) = norm(V - V2);
    sNorms(i) = norm(S - S2)/norm(S);
    aNorms(i) = norm(A - U2*S2*V2')/norm(A);
end



>> aNorms'
   1.0e-14 *

   0.281021515060486
   0.773610009677406
   0.731129340264174
   0.341214719366703
   0.202734945660890
   

>> uNorms'
   1.0e-03 *

   0.224750383854456
   0.199826275610365
   0.240281169009316
   0.324787260618243
   0.087691111790049


>> vNorms'
   1.0e-03 *

   0.224219579648742
   0.199607413114002
   0.243273246289136
   0.324361586942921
   0.088270115302406


>> sNorms'
   1.0e-14 *

   0.151382643383725
   0.183175896995704
   0.134350421198050
   0.126464322882021
   0.296318070925046


>> Acond'
   1.0e+12 *

   0.884885420339284
   4.442917268303241
   0.075883079322376
   0.429441761479880
   0.634439894325554